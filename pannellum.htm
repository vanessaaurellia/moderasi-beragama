<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Moderasi Beragama</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css" />
        <script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
        <link rel="stylesheet" href="pannellum.css">
    </head>

    <body>
        <div id="masjid" class="content"></div>
        <div id="katolik" class="content"></div>
        <div class="dropdown">
            <button onclick="myFunction()" class="dropbtn">Moderasi Beragama <img class="icon" src="images/arrow.svg"></button>
            <div id="myDropdown" class="dropdown-content">
              <a class="link" onclick="openHouse(event, 'masjid')" id="defaultOpen">Masjid</a>
              <a class="link" onclick="openHouse(event, 'katolik')">Gereja Katolik</a>
              <a class="link" onclick="openHouse(event, 'kristen')">Gereja Kristen Protestan</a>
              <a class="link" onclick="openHouse(event, 'pura')">Pura</a>
              <a class="link" onclick="openHouse(event, 'wihara')">Wihara</a>
              <a class="link" onclick="openHouse(event, 'konghucu')">Konghucu</a>
              <a class="link" onclick="openHouse(event, 'kepercayaan')">Penganut Kepercayaan</a>
            </div>
        </div>
        
        <script>
            pannellum.viewer('masjid', {   
                "default": {
                    "firstScene": "masjidOutside",
                    "sceneFadeDuration": 1000,
                    "autoLoad": true,
                    "compass": false,
                    "autoRotate": -2
                },

                "scenes": {
                    "masjidOutside": {
                        "hfov": 110,
                        "pitch": -3,
                        "yaw": 117,
                        "type": "equirectangular",
                        "panorama": "/images/masjid1.JPG",
                        "hotSpots": [
                            {
                                "pitch": -2.1,
                                "yaw": 132.9,
                                "type": "scene",
                                "sceneId": "masjidInside"
                            }
                        ]
                    },

                    "masjidInside": {
                        "hfov": 110,
                        "yaw": 5,
                        "type": "equirectangular",
                        "panorama": "/images/masjid2.JPG",
                        "hotSpots": [
                            {
                                "pitch": -0.6,
                                "yaw": 37.1,
                                "type": "scene",
                                "sceneId": "masjidOutside",
                                "targetYaw": -23,
                                "targetPitch": 2
                            }
                        ]
                    }
                }
            });

            pannellum.viewer('katolik', {   
                "default": {
                    "firstScene": "katolikOutside",
                    "sceneFadeDuration": 1000,
                    "autoLoad": true,
                    "compass": false,
                    "autoRotate": -2
                },

                "scenes": {
                    "katolikOutside": {
                        "hfov": 110,
                        "pitch": -3,
                        "yaw": 117,
                        "type": "equirectangular",
                        "panorama": "/images/katolik1.JPG",
                        "hotSpots": [
                            {
                                "pitch": -2.1,
                                "yaw": 132.9,
                                "type": "scene",
                                "sceneId": "katolikInside"
                            }
                        ]
                    },

                    "katolikInside": {
                        "hfov": 110,
                        "yaw": 5,
                        "type": "equirectangular",
                        "panorama": "/images/katolik2.JPG",
                        "hotSpots": [
                            {
                                "pitch": -0.6,
                                "yaw": 37.1,
                                "type": "scene",
                                "sceneId": "katolikOutside",
                                "targetYaw": -23,
                                "targetPitch": 2
                            }
                        ]
                    }
                }
            });

            function myFunction() {
                document.getElementById("myDropdown").classList.toggle("show");
            }

            window.onclick = function(event) {
                if (!event.target.matches('.dropbtn')) {
                    var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                }
            }

            function openHouse(evt, HouseName) {
                var i, content, link;
                content = document.getElementsByClassName("content");
                for (i = 0; i < content.length; i++) {
                    content[i].style.display = "none";
                }
                link = document.getElementsByClassName("link");
                for (i = 0; i < link.length; i++) {
                    link[i].className = link[i].className.replace(" active", "");
                }
                document.getElementById(HouseName).style.display = "block";
                evt.currentTarget.className += " active";
            }

            document.getElementById("defaultOpen").click();
        </script>
    </body>
</html>
